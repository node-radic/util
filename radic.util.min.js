!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash")):"function"==typeof define&&define.amd?define(["exports","lodash"],t):t((e.radic=e.radic||{},e.radic.util=e.radic.util||{}),e._)}(this,function(exports,lodash){"use strict";function round(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r}function makeString(e){return null==e?"":""+e}function defaultToWhiteSpace(e){return null==e?"\\s":e.source?e.source:"["+lodash.escapeRegExp(e)+"]"}function kindOf(e){return null==e?String(e):kindsOf[kindsOf.toString.call(e)]||"object"}function def(e,t){return defined(e)?e:t}function defined(e){return!lodash.isUndefined(e)}function getRandomId(e){lodash.isNumber(e)&&(e=15);for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<e;o++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function guid(){return guidSeg()+guidSeg()+"-"+guidSeg()+"-"+guidSeg()+"-"+guidSeg()+"-"+guidSeg()+guidSeg()+guidSeg()}function guidSeg(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function isLength(e,t){t=1===t.length&&"array"===kindOf(t[0])?t[0]:t;var r;if(e.length)r=e.length;else{if(!isFinite(e))return[!1];r=parseInt(e)}var o=[];return t.map(function(e){return parseInt(e)}).forEach(function(e){return o[e]=r===e}),o}function getParts(e){return e.replace(/\\\./g,"ï¿¿").split(".").map(function(e){return e.replace(/\uffff/g,".")})}function objectGet(e,t,r){"string"==typeof t&&(t=getParts(t));for(var o;"object"==typeof e&&e&&t.length;)o=t.shift(),o in e||!r||(e[o]={}),e=e[o];return e}function objectSet(e,t,r){t=getParts(t);var o=t.pop();if((e=objectGet(e,t,!0))&&"object"==typeof e)return e[o]=r}function objectExists(e,t){t=getParts(t);var r=t.pop();return"object"==typeof(e=objectGet(e,t))&&e&&r in e}function recurse(e,t,r){function o(e,t,r,n){var i;if(n.objs.indexOf(e)!==-1)throw i=new Error("Circular reference detected ("+n.path+")"),i.path=n.path,i;var a,s;if(r&&r(e)===!1)return e;if("array"===kindOf(e))return e.map(function(i,a){return o(i,t,r,{objs:n.objs.concat([e]),path:n.path+"["+a+"]"})});if("object"==typeof e){a={};for(s in e)a[s]=o(e[s],t,r,{objs:n.objs.concat([e]),path:n.path+(/\W/.test(s)?'["'+s+'"]':"."+s)});return a}return t(e)}return o(e,t,r,{objs:[],path:""})}function copyObject(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function dotize(e,t){function r(t,a,s){for(var f in t)t[f]&&"object"==typeof t[f]?i=Array.isArray(t[f])?r(t[f],(a?a:"")+(o(f)?"["+f+"]":"."+f),!0):s?r(t[f],(a?a:"")+"["+f+"]"):r(t[f],(a?a+".":"")+f):s||o(f)?i[a+"["+f+"]"]=t[f]:i[(a?a+".":"")+f]=t[f];return n(i)?e:i}function o(e){return!isNaN(parseInt(e))}function n(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}if(!e||"object"!=typeof e){if(t){var i={};return i[t]=e,i}return e}var i={};return r(e,t)}function objectLoop(e,t){Object.keys(e).forEach(function(r){t(r,e[r])})}function applyMixins(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(r){e.prototype[r]=t.prototype[r]})})}function everyKey(e,t){var r=[];return Object.keys(e).forEach(function(o,n,i){r.push(t(o,e[o],n,i))}),r}function omap(e,t){return Object.keys(e).forEach(function(r,o,n){var i=t(e[r],r,o,n),a=kindOf(i);if("object"===a)e[r]=i;else if("array"===a){var s=i[0],f=i[1];delete e[r],e[s]=f}}),e}function Mixin(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduceRight(function(e,t){return __extends$1(t,e)},function(){function e(){}return e}())}function __extends$1(e,t){var r=function(){function r(){return e.apply(t.apply(this,arguments)||this,arguments)}return r}();Object.assign(r.prototype,e.prototype,t.prototype);for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);return r}function inspect(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach(function(e){return console.dir(e,{colors:!0,depth:5,showHidden:!0})})}var kindsOf={};"Number String Boolean Function RegExp Array Date Error".split(" ").forEach(function(e){kindsOf["[object "+e+"]"]=e.toLowerCase()});var isAnyLength=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return isLength(e,t).indexOf(!0)!==-1},isAllLength=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return isLength(e,t).indexOf(!1)===-1},StringType=function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value},e.prototype.valueOf=function(){return this.value},e.all=function(){var e=this;return Object.getOwnPropertyNames(this).filter(function(t){if(["length","name","prototype"].indexOf(t)===-1&&"object"==typeof e[t])return!0}).map(function(t){return e[t]})},e}(),DependencySorter=function(){function e(){this.items=[],this.dependencies={},this.dependsOn={},this.missing={},this.circular={},this.hits={},this.sorted={}}return e.prototype.add=function(e){var t=this;Object.keys(e).forEach(function(r){t.addItem(r,e[r])})},e.prototype.addItem=function(e,t){void 0===t?t=t||[]:"string"==typeof t&&(t=t.toString().split(/,\s?/)),this.setItem(e,t)},e.prototype.setItem=function(e,t){var r=this;this.items.push(e),t.forEach(function(t){r.items.push(t),r.dependsOn[t]||(r.dependsOn[t]={}),r.dependsOn[t][e]=e,r.hits[t]=0}),this.items=lodash.uniq(this.items),this.dependencies[e]=t,this.hits[e]=0},e.prototype.sort=function(){var e=this;this.sorted=[];for(var t=!0;this.sorted.length<this.items.length&&t;)t=!1,Object.keys(this.dependencies).forEach(function(r){e.satisfied(r)&&(e.setSorted(r),e.removeDependents(r),t=!0),e.hits[r]++});return this.sorted},e.prototype.satisfied=function(e){var t=this,r=!0;return this.getDependents(e).forEach(function(o){t.isSorted(o)||(t.exists(e)||(t.setMissing(e,o),r&&(r=!1)),t.hasDependents(o)?r&&(r=!1):t.setFound(e,o),t.isDependent(e,o)&&(t.setCircular(e,o),r&&(r=!1)))}),r},e.prototype.setSorted=function(e){this.sorted.push(e)},e.prototype.exists=function(e){return this.items.indexOf(e)!==-1},e.prototype.removeDependents=function(e){delete this.dependencies[e]},e.prototype.setCircular=function(e,t){this.circular[e]=this.circular[e]||{},this.circular[e][t]=t},e.prototype.setMissing=function(e,t){this.missing[e]=this.missing[e]||{},this.missing[e][t]=t},e.prototype.setFound=function(e,t){void 0!==this.missing[e]&&(delete this.missing[e][t],Object.keys(this.missing[e]).length>0&&delete this.missing[e])},e.prototype.isSorted=function(e){return void 0!==this.sorted[e]},e.prototype.requiredBy=function(e){return void 0!==this.dependsOn[e]?this.dependsOn[e]:[]},e.prototype.isDependent=function(e,t){return void 0!==this.dependsOn[e]&&void 0!==this.dependsOn[e][t]},e.prototype.hasDependents=function(e){return void 0!==this.dependencies[e]},e.prototype.hasMissing=function(e){return void 0!==this.missing[e]},e.prototype.isMissing=function(e){var t=this,r=!1;return Object.keys(this.missing).forEach(function(o){t.missing[o].indexOf(e)!==-1&&(r=!0)}),r},e.prototype.hasCircular=function(e){return void 0!==this.circular[e]},e.prototype.isCircular=function(e){var t=this,r=!1;return Object.keys(this.circular).forEach(function(o){t.circular[o].indexOf(e)!==-1&&(r=!0)}),r},e.prototype.getDependents=function(e){return this.dependencies[e]},e.prototype.getMissing=function(e){return"string"==typeof e?this.missing[e]:this.missing},e.prototype.getCircular=function(e){return"string"==typeof e?this.circular[e]:this.circular},e.prototype.getHits=function(e){return"string"==typeof e?this.hits[e]:this.hits},e}(),__extends=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Config=function(){function e(e){this.allDelimiters={},this.addDelimiters("config","<%","%>"),this.defaults=e||{},this.data=lodash.cloneDeep(this.defaults)}return e.prototype.unset=function(t){t=t.split(".");var r=t.pop();delete objectGet(this.data,e.getPropString(t.join(".")))[r]},e.prototype.has=function(t){return!t||objectExists(this.data,e.getPropString(t))},e.prototype.raw=function(t){return t?objectGet(this.data,e.getPropString(t)):this.data},e.prototype.get=function(e,t){return void 0===t&&(t=void 0),e&&0!==e.toString().length?this.has(e)?this.process(this.raw(e)):t:this.process(this.raw())},e.prototype.set=function(t,r){var o=this;return defined(r)?objectSet(this.data,e.getPropString(t),r):"object"===kindOf(t)&&Object.keys(t).forEach(function(e){return o.set(e,t[e])}),this},e.prototype.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length)this.data=lodash.merge(this.data,e[0]);else{var r=e[0];this.set(r,lodash.merge(this.raw(r),e[1]))}return this},e.prototype.process=function(t){var r=this;return recurse(t,function(t){if("string"!=typeof t)return t;var o,n=t.match(e.propStringTmplRe);return n&&null!=(o=r.get(n[1]))?o:r.processTemplate(t,{data:r.data})})},e.prototype.addDelimiters=function(e,t,r){var o=this.allDelimiters[e]={};o.opener=t,o.closer=r;var n=o.opener.replace(/(.)/g,"\\$1"),i="([\\s\\S]+?)"+o.closer.replace(/(.)/g,"\\$1");o.lodash={evaluate:new RegExp(n+i,"g"),interpolate:new RegExp(n+"="+i,"g"),escape:new RegExp(n+"-"+i,"g")}},e.prototype.setDelimiters=function(e){return this.allDelimiters[e in this.allDelimiters?e:"config"]},e.prototype.processTemplate=function(e,t){t||(t={});var r=this.setDelimiters(t.delimiters),o=Object.create(t.data||this.data||{}),n=e;try{for(;e.indexOf(r.opener)>=0&&(e=lodash.template(e)(o))!==n;)n=e}catch(e){}return e.toString().replace(/\r\n|\n/g,"\n")},e.makeProperty=function(e){var t=function(t,r){return defined(r)?e.get(t,r):"object"===kindOf(t)?e.set(t):e.get(t)};return t.get=e.get.bind(e),t.set=e.set.bind(e),t.unset=e.unset.bind(e),t.merge=e.merge.bind(e),t.raw=e.raw.bind(e),t.process=e.process.bind(e),t.has=e.has.bind(e),t},e.getPropString=function(e){return Array.isArray(e)?e.map(this.escape).join("."):e},e.escape=function(e){return e.replace(/\./g,"\\.")},e.prototype.toString=function(){return this.raw()},e}();Config.propStringTmplRe=/^<%=\s*([a-z0-9_$]+(?:\.[a-z0-9_$]+)*)\s*%>$/i;var PersistentConfig=function(e){function t(t){var r=e.call(this,t)||this;return r.enabled=!0,r.load(),r}return __extends(t,e),t.prototype.save=function(){},t.prototype.load=function(){},t.prototype.unset=function(t){return e.prototype.unset.call(this,t),this.save(),this},t.prototype.merge=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.merge.call(this,t),this.save(),this},t.prototype.set=function(t,r){return e.prototype.set.call(this,t,r),this.save(),this},t.makeProperty=function(e){var t=function(t,r){return defined(r)?e.get(t,r):"object"===kindOf(t)?e.set(t):e.get(t)};return t.load=e.get.bind(e),t.safef=e.set.bind(e),t},t}(Config),getCallerFile=function(e){void 0===e&&(e=2);var t=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var r=(new Error).stack;Error.prepareStackTrace=t;var o=e?e:2;return r[o]?r[o].getFileName():void 0},old_json=JSON,stringify=function(e){return old_json.stringify(e,function(e,t){return t instanceof Function||"function"==typeof t?t.toString():t instanceof RegExp?"_PxEgEr_"+t:t})},parse=function parse(str,date2obj){var iso8061=!!date2obj&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/;return old_json.parse(str,function(key,value){var prefix;return"string"!=typeof value?value:value.length<8?value:(prefix=value.substring(0,8),iso8061&&value.match(iso8061)?new Date(value):"function"===prefix?eval("("+value+")"):"_PxEgEr_"===prefix?eval(value.slice(8)):value)})},clone=function(e,t){return parse(stringify(e),t)},materialColors={red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",1000:"#11171a"}},colors=materialColors,color=function(e,t,r){if(void 0===t&&(t="500"),void 0===r&&(r=!0),"object"==typeof colors[e]&&"string"==typeof colors[e][t])return r?colors[e][t]:colors[e][t].replace("#","");throw new Error("Could not find color ["+e+"] variant ["+t+"] in materials.color()")},__extends$2=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Storage=function(){function e(){}return e.hasBag=function(t){return void 0!==e.bags[t]},e.createBag=function(t,r){if(e.hasBag(t))throw new Error("StorageBag "+t+" already exists");return e.bags[t]=new StorageBag(e.make(t,r))},e.getBag=function(t){if(!e.hasBag(t))throw new Error("StorageBag "+t+" does not exist");return e.bags[t]},e.getOrCreateBag=function(t,r){return e.hasBag(t)?e.getBag(t):e.createBag(t,r)},e.make=function(e,t){if("cookie"===t)return new CookieStorage(e);if("local"===t)return new LocalStorage(e);if("session"===t)return new SessionStorage(e);throw new Error("Storage provider could not be maked. ... ?")},e.isSupportedProvider=function(e){return e instanceof LocalStorage?void 0!==window.localStorage:e instanceof SessionStorage?void 0!==window.localStorage:e instanceof CookieStorage?void 0!==window.document.cookie:void 0},e}();Storage.bags={};var StorageBag=function(){function e(e,t){void 0===t&&(t={}),this.options={json:!0},this.provider=e,lodash.merge(this.options,t)}return e.prototype.on=function(e){this.provider.onStoreEvent(e)},e.prototype.set=function(e,t,r){if(r=lodash.merge({json:!0,expires:!1},r),r.json&&(t=JSON.stringify(t)),r.expires){var o=Math.floor(Date.now()/1e3/60);this.provider.setItem(e+":expire",o+r.expires)}this.provider.setItem(e,t)},e.prototype.get=function(e,t,r){if(void 0===t&&(t=null),r=lodash.merge({json:this.options.json,default:t},r),!e)return r.default;if(lodash.isString(this.provider.getItem(e))&&lodash.isString(this.provider.getItem(e+":expire"))){Math.floor(Date.now()/1e3/60)>parseInt(this.provider.getItem(e+":expire"))&&(this.del(e),this.del(e+":expire"))}var o=this.provider.getItem(e);return!o||void 0!==o&&null==o?r.default:r.json?JSON.parse(o):o},e.prototype.has=function(e){return this.provider.hasItem(e)},e.prototype.del=function(e){this.provider.removeItem(e)},e.prototype.clear=function(){this.provider.clear()},e.prototype.getSize=function(e){return this.provider.getSize(e)},e}(),BaseStorageProvider=function(){function e(e){this.name=e}return e}(),LocalStorage=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends$2(t,e),t.prototype.hasItem=function(e){return null!==window.localStorage.getItem(e)},Object.defineProperty(t.prototype,"length",{get:function(){return window.localStorage.length},enumerable:!0,configurable:!0}),t.prototype.getSize=function(e){if(e=e||!1)return(2*window.localStorage[r].length/1024/1024).toFixed(2);var t=0;for(var r in window.localStorage)t+=2*window.localStorage[r].length/1024/1024;return t.toFixed(2)},t.prototype.onStoreEvent=function(e){window.addEventListener?window.addEventListener("storage",e,!1):window.attachEvent("onstorage",e)},t.prototype.clear=function(){window.localStorage.clear()},t.prototype.getItem=function(e){return window.localStorage.getItem(e)},t.prototype.key=function(e){return window.localStorage.key(e)},t.prototype.removeItem=function(e){window.localStorage.removeItem(e)},t.prototype.setItem=function(e,t){window.localStorage.setItem(e,t)},t}(BaseStorageProvider),SessionStorage=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends$2(t,e),t.prototype.hasItem=function(e){return null!==window.sessionStorage.getItem(e)},Object.defineProperty(t.prototype,"length",{get:function(){return window.sessionStorage.length},enumerable:!0,configurable:!0}),t.prototype.getSize=function(e){if(e=e||!1)return(2*window.sessionStorage[r].length/1024/1024).toFixed(2);var t=0;for(var r in window.sessionStorage)t+=2*window.sessionStorage[r].length/1024/1024;return t.toFixed(2)},t.prototype.onStoreEvent=function(e){window.addEventListener?window.addEventListener("storage",e,!1):window.attachEvent("onstorage",e)},t.prototype.clear=function(){window.sessionStorage.clear()},t.prototype.getItem=function(e){return window.sessionStorage.getItem(e)},t.prototype.key=function(e){return window.sessionStorage.key(e)},t.prototype.removeItem=function(e){window.sessionStorage.removeItem(e)},t.prototype.setItem=function(e,t){window.sessionStorage.setItem(e,t)},t}(BaseStorageProvider),CookieStorage=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cookieRegistry=[],t}return __extends$2(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this.keys().length},enumerable:!0,configurable:!0}),t.prototype.getSize=function(e){if(e=e||!1)return(2*window.sessionStorage[r].length/1024/1024).toFixed(2);var t=0;for(var r in window.sessionStorage)t+=2*window.sessionStorage[r].length/1024/1024;return t.toFixed(2)},t.prototype.listenCookieChange=function(e,t){var r=this;setInterval(function(){if(r.hasItem(e)){if(r.getItem(e)!=r.cookieRegistry[e])return r.cookieRegistry[e]=r.getItem(e),t()}else r.cookieRegistry[e]=r.getItem(e)},100)},t.prototype.onStoreEvent=function(e){var t=this;this.keys().forEach(function(r){t.listenCookieChange(r,e)})},t.prototype.clear=function(){var e=this;this.keys().forEach(function(t){e.removeItem(t)})},t.prototype.key=function(e){return this.keys()[e]},t.prototype.getItem=function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},t.prototype.setItem=function(e,t,r,o,n,i){if(e&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(e)){var a="";if(r)switch(r.constructor){case Number:a=r===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+r;break;case String:a="; expires="+r;break;case Date:a="; expires="+r.toUTCString()}document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(n?"; domain="+n:"")+(o?"; path="+o:"")+(i?"; secure":"")}},t.prototype.removeItem=function(e,t,r){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(r?"; domain="+r:"")+(t?"; path="+t:""),!0)},t.prototype.hasItem=function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},t.prototype.keys=function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,r=0;r<t;r++)e[r]=decodeURIComponent(e[r]);return e},t}(BaseStorageProvider);exports.Config=Config,exports.PersistentConfig=PersistentConfig,exports.getCallerFile=getCallerFile,exports.inspect=inspect,exports.round=round,exports.makeString=makeString,exports.defaultToWhiteSpace=defaultToWhiteSpace,exports.kindOf=kindOf,exports.def=def,exports.defined=defined,exports.getRandomId=getRandomId,exports.guid=guid,exports.guidSeg=guidSeg,exports.isAnyLength=isAnyLength,exports.isAllLength=isAllLength,exports.isLength=isAnyLength,exports.stringify=stringify,exports.parse=parse,exports.clone=clone,exports.colors=colors,exports.color=color,exports.StringType=StringType,exports.DependencySorter=DependencySorter,exports.everyKey=everyKey,exports.omap=omap,exports.Mixin=Mixin,exports.objectLoop=objectLoop,exports.getParts=getParts,exports.objectExists=objectExists,exports.objectGet=objectGet,exports.objectSet=objectSet,exports.copyObject=copyObject,exports.applyMixins=applyMixins,exports.recurse=recurse,exports.dotize=dotize,exports.Storage=Storage,exports.StorageBag=StorageBag,exports.BaseStorageProvider=BaseStorageProvider,exports.LocalStorage=LocalStorage,exports.SessionStorage=SessionStorage,exports.CookieStorage=CookieStorage,Object.defineProperty(exports,"__esModule",{value:!0})});